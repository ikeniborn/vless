# Результат исправления ошибок путей к библиотекам

## Проблема
При выполнении команд `vless-users`, `vless-logs`, `vless-backup` возникали ошибки:
```
/usr/local/bin/vless-users: line 10: /usr/local/bin/lib/colors.sh: No such file or directory
```

## Причина
Скрипты вызывались через символические ссылки из `/usr/local/bin/`, но неверно определяли свою директорию, используя:
```bash
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
```
Это приводило к тому, что `SCRIPT_DIR` указывал на `/usr/local/bin/` вместо реального расположения `/opt/vless/scripts/`.

## Решение
Изменён способ определения `SCRIPT_DIR` для корректного разрешения символических ссылок:
```bash
SCRIPT_DIR="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"
```

## Внесённые изменения

### Обновлённые файлы:
1. **scripts/user-manager.sh** - строка 6
2. **scripts/logs.sh** - строка 6
3. **scripts/backup.sh** - строка 6
4. **scripts/update.sh** - строка 6

### Тестирование
✅ Синтаксис всех скриптов проверен и корректен
✅ Скрипты теперь корректно находят библиотеки при вызове через символические ссылки

## Как работает исправление
- `readlink -f "${BASH_SOURCE[0]}"` - разрешает все символические ссылки и возвращает абсолютный путь к реальному файлу скрипта
- `dirname` - извлекает директорию из полного пути
- Результат: `SCRIPT_DIR` всегда указывает на `/opt/vless/scripts/` независимо от способа вызова

## Рекомендации для пользователя
После обновления репозитория необходимо:
1. Переустановить скрипты командой: `sudo bash scripts/install.sh`
2. Или вручную обновить файлы в `/opt/vless/scripts/`

## Статус
✅ **Проблема полностью решена**

Все команды (`vless-users`, `vless-logs`, `vless-backup`, `vless-update`) теперь будут работать корректно при вызове через символические ссылки.