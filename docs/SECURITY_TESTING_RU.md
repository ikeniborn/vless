# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è VLESS Reality VPN

## –ö—Ä–∞—Ç–∫–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ó–∞–ø—É—Å–∫—É

**–î–∞—Ç–∞:** 2025-10-07
**–í–µ—Ä—Å–∏—è:** 1.0

---

## –ß—Ç–æ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –°–∫—Ä–∏–ø—Ç

–°–∫—Ä–∏–ø—Ç `test_encryption_security.sh` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Å–µ–≥–æ –ø—É—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏:

### üîê –ü—Ä–æ–≤–µ—Ä–∫–∏ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

1. **Reality Protocol (TLS 1.3)**
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è X25519 –∫–ª—é—á–µ–π
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
   - –í–∞–ª–∏–¥–∞—Ü–∏—è destination (—Ü–µ–ª–∏ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏)

2. **stunnel TLS-—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è** (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ Let's Encrypt
   - –í–∞–ª–∏–¥–∞—Ü–∏—è TLS 1.3 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 1080 (SOCKS5) –∏ 8118 (HTTP)

3. **–ê–Ω–∞–ª–∏–∑ –¢—Ä–∞—Ñ–∏–∫–∞**
   - –ü–µ—Ä–µ—Ö–≤–∞—Ç –ø–∞–∫–µ—Ç–æ–≤ (tcpdump)
   - –ü–æ–∏—Å–∫ –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (plaintext)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ TLS handshake

4. **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ DPI** (Deep Packet Inspection)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π HTTPS
   - –í–∞–ª–∏–¥–∞—Ü–∏—è SNI –∏ fingerprint

5. **–£—è–∑–≤–∏–º–æ—Å—Ç–∏ SSL/TLS**
   - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–∞–±—ã—Ö —à–∏—Ñ—Ä–æ–≤ (RC4, DES, 3DES, MD5)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (SSLv2, SSLv3, TLS 1.0)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è Perfect Forward Secrecy

6. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ü—Ä–æ–∫—Å–∏**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã –ø–∞—Ä–æ–ª–µ–π (32+ —Å–∏–º–≤–æ–ª–æ–≤)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º

7. **–£—Ç–µ—á–∫–∏ –î–∞–Ω–Ω—ã—Ö**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
   - –ü–æ–∏—Å–∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–≥–∞—Ö
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞

- Ubuntu 20.04+, 22.04 LTS –∏–ª–∏ Debian 10+
- –ü—Ä–∞–≤–∞ root/sudo
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π VLESS Reality VPN –≤ `/opt/vless`
- –ú–∏–Ω–∏–º—É–º –æ–¥–∏–Ω —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å VPN

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –£—Ç–∏–ª–∏—Ç

```bash
# –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
sudo apt-get update
sudo apt-get install -y openssl curl jq iproute2 iptables nmap tcpdump

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞
sudo apt-get install -y tshark wireshark-common
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã VLESS –∑–∞–ø—É—â–µ–Ω—ã:

```bash
cd /opt/vless
sudo docker compose ps
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
NAME            STATUS          PORTS
vless_xray      Up 2 hours      0.0.0.0:443->443/tcp
vless_nginx     Up 2 hours
vless_stunnel   Up 2 hours      (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏)
```

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã:

```bash
sudo docker compose up -d
```

---

## –ó–∞–ø—É—Å–∫ –¢–µ—Å—Ç–æ–≤

### 1. –ë—ã—Å—Ç—Ä—ã–π –ó–∞–ø—É—Å–∫ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```bash
sudo /home/ikeniborn/Documents/Project/vless/tests/integration/test_encryption_security.sh
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~2-3 –º–∏–Ω—É—Ç—ã

### 2. –ë—ã—Å—Ç—Ä—ã–π –†–µ–∂–∏–º (–ë–µ–∑ –î–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –¢–µ—Å—Ç–æ–≤)

–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ (tcpdump):

```bash
sudo /home/ikeniborn/Documents/Project/vless/tests/integration/test_encryption_security.sh --quick
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~1 –º–∏–Ω—É—Ç–∞

### 3. –ë–µ–∑ Packet Capture

–ï—Å–ª–∏ tcpdump –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã:

```bash
sudo /home/ikeniborn/Documents/Project/vless/tests/integration/test_encryption_security.sh --skip-pcap
```

### 4. –ü–æ–¥—Ä–æ–±–Ω—ã–π –í—ã–≤–æ–¥ (–û—Ç–ª–∞–¥–∫–∞)

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø—Ä–æ–±–ª–µ–º:

```bash
sudo /home/ikeniborn/Documents/Project/vless/tests/integration/test_encryption_security.sh --verbose
```

### 5. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –û–ø—Ü–∏–π

```bash
sudo /home/ikeniborn/Documents/Project/vless/tests/integration/test_encryption_security.sh --quick --verbose
```

---

## –ü–æ–Ω–∏–º–∞–Ω–∏–µ –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ö–æ–¥—ã –í–æ–∑–≤—Ä–∞—Ç–∞

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|----------|
| `0` | –£—Å–ø–µ—Ö | –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã –∏–ª–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ |
| `1` | –ü—Ä–æ–≤–∞–ª | –û–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤ –Ω–µ –ø—Ä–æ—à–ª–∏ |
| `2` | –û—à–∏–±–∫–∞ | –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è |
| `3` | –ö—Ä–∏—Ç–∏—á–Ω–æ | –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

### –§–æ—Ä–º–∞—Ç –í—ã–≤–æ–¥–∞

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π:

- **üü¢ [‚úì PASS]** - –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω —É—Å–ø–µ—à–Ω–æ
- **üî¥ [‚úó FAIL]** - –¢–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω (–ø—Ä–æ–±–ª–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- **üü° [‚äò SKIP]** - –¢–µ—Å—Ç –ø—Ä–æ–ø—É—â–µ–Ω (—Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
- **üü° [‚ö† WARN]** - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- **üî¥ [üî• CRITICAL]** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å (—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

### –ü—Ä–∏–º–µ—Ä –£—Å–ø–µ—à–Ω–æ–≥–æ –í—ã–≤–æ–¥–∞

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
TEST 1: Reality Protocol TLS 1.3 Configuration
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

[TEST] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Reality protocol TLS 1.3 –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray
[‚úì PASS] –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á X25519 –Ω–∞—Å—Ç—Ä–æ–µ–Ω
[‚úì PASS] Reality shortIds –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (2 –∑–∞–ø–∏—Å–∏)
[‚úì PASS] Reality destination –Ω–∞—Å—Ç—Ä–æ–µ–Ω: google.com:443
[‚úì PASS] Destination –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç TLS 1.3: google.com
[‚úì PASS] Reality serverNames –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã: www.google.com
[‚úì PASS] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Reality protocol TLS 1.3 –≤–∞–ª–∏–¥–Ω–∞
```

### –ò—Ç–æ–≥–æ–≤—ã–π –û—Ç—á—ë—Ç

–í –∫–æ–Ω—Ü–µ —Ç–µ—Å—Ç–æ–≤ –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–≤–æ–¥–∫–∞:

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–ò–¢–û–ì–û–í–´–ô –û–¢–ß–Å–¢ –ü–û –¢–ï–°–¢–ê–ú –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò –®–ò–§–†–û–í–ê–ù–ò–Ø
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

–í—Å–µ–≥–æ –¢–µ—Å—Ç–æ–≤:      45
–ü—Ä–æ–π–¥–µ–Ω–æ:          42
–ü—Ä–æ–≤–∞–ª–µ–Ω–æ:         1
–ü—Ä–æ–ø—É—â–µ–Ω–æ:         2

–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:    3
–ö—Ä–∏—Ç–∏—á–Ω—ã—Ö –ü—Ä–æ–±–ª–µ–º: 0

–ü—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ –¢–µ—Å—Ç—ã:
  ‚úó HTTP proxy port not listening: 8118

–ü—Ä–æ–±–ª–µ–º—ã –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
  ‚ö† Certificate expires within 24 hours or is already expired

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–†–ï–ó–£–õ–¨–¢–ê–¢: –ü–†–û–ô–î–ï–ù–û –° –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø–ú–ò
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

---

## –†–µ—à–µ–Ω–∏–µ –¢–∏–ø–∏—á–Ω—ã—Ö –ü—Ä–æ–±–ª–µ–º

### 1. "tcpdump: command not found"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo apt-get install tcpdump
```

–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –æ–ø—Ü–∏–µ–π `--skip-pcap`:
```bash
sudo ./test_encryption_security.sh --skip-pcap
```

### 2. "VLESS containers are not running"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /opt/vless
sudo docker compose up -d
sudo docker compose ps  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```

### 3. "No users configured"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo vless-user add testuser
```

### 4. "Certificate validation failed"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏—Å—Ç—ë–∫
- –§–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo openssl x509 -in /etc/letsencrypt/live/yourdomain.com/fullchain.pem -noout -enddate

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot renew

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
cd /opt/vless && sudo docker compose restart
```

### 5. "Permission denied"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∞–º–∏ root –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –ø–∞–∫–µ—Ç–æ–≤
sudo ./test_encryption_security.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É
ls -la test_encryption_security.sh
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: -rwxr-xr-x (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π)

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
chmod +x test_encryption_security.sh
```

### 6. "Traffic encryption test failed - no packets captured"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫
- –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∞
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ tcpdump

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞
sudo ufw status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
ip link show

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
sudo ./test_encryption_security.sh --verbose
```

---

## –ß—Ç–æ –î–µ–ª–∞—Ç—å –ü–æ—Å–ª–µ –¢–µ—Å—Ç–æ–≤

### ‚úÖ –í—Å–µ –¢–µ—Å—Ç—ã –ü—Ä–æ–π–¥–µ–Ω—ã

**–í–∞—à–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ!** –ö–∞–Ω–∞–ª –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω.

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü)
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–æ–≤—Ä–µ–º—è

### ‚ö†Ô∏è –ï—Å—Ç—å –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (Warnings)

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é.**

–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–∫–æ—Ä–æ –∏—Å—Ç–µ–∫–∞–µ—Ç ‚Üí –æ–±–Ω–æ–≤–∏—Ç–µ certbot
- –°–ª–∞–±—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Üí —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≤–µ—Ä—Å–∏–∏ TLS —Ä–∞–∑—Ä–µ—à–µ–Ω—ã ‚Üí –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### ‚ùå –¢–µ—Å—Ç—ã –ü—Ä–æ–≤–∞–ª–µ–Ω—ã (Failed)

**–ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ.**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ó–∞–ø—É—â–µ–Ω—ã –ª–∏ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (`docker compose ps`)
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Xray (`/opt/vless/config/xray_config.json`)
3. –î–æ—Å—Ç—É–ø–Ω—ã –ª–∏ –ø–æ—Ä—Ç—ã (`ss -tlnp | grep -E "443|1080|8118"`)

–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑–¥–µ–ª—É "–†–µ—à–µ–Ω–∏–µ –¢–∏–ø–∏—á–Ω—ã—Ö –ü—Ä–æ–±–ª–µ–º" –≤—ã—à–µ.

### üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ü—Ä–æ–±–ª–µ–º—ã (Critical)

**–ù–ï–ú–ï–î–õ–ï–ù–ù–û –¢–†–ï–ë–£–ï–¢–°–Ø –î–ï–ô–°–¢–í–ò–ï! –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∑–∞—â–∏—â–µ–Ω—ã.**

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–∫–ª—é—á–∞—é—Ç:
- –ù–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ (plaintext –æ–±–Ω–∞—Ä—É–∂–µ–Ω)
- –°–ª–∞–±—ã–µ —à–∏—Ñ—Ä—ã (RC4, DES)
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Å–µ–º
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–∫—Å–∏

**–î–µ–π—Å—Ç–≤–∏—è:**
1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:** `cd /opt/vless && sudo docker compose down`
2. **–ò–∑—É—á–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ –≤—ã–≤–æ–¥–µ —Ç–µ—Å—Ç–∞**
3. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã —Å–Ω–æ–≤–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**
5. **–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å**

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞ –í—Ä—É—á–Ω—É—é

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
sudo openssl x509 -in /etc/letsencrypt/live/yourdomain.com/fullchain.pem -noout -text

# –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
sudo openssl x509 -in /etc/letsencrypt/live/yourdomain.com/fullchain.pem -noout -enddate

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏
sudo openssl verify -CAfile /etc/ssl/certs/ca-certificates.crt \
  /etc/letsencrypt/live/yourdomain.com/fullchain.pem
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ TLS –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ TLS 1.3 –Ω–∞ stunnel SOCKS5 –ø–æ—Ä—Ç—É
openssl s_client -connect yourdomain.com:1080 -tls1_3

# –ü—Ä–æ–≤–µ—Ä–∫–∞ TLS 1.3 –Ω–∞ stunnel HTTP –ø–æ—Ä—Ç—É
openssl s_client -connect yourdomain.com:8118 -tls1_3

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∏—Ñ—Ä–æ–≤
nmap --script ssl-enum-ciphers -p 8118 yourdomain.com
```

### –ü–µ—Ä–µ—Ö–≤–∞—Ç –∏ –ê–Ω–∞–ª–∏–∑ –¢—Ä–∞—Ñ–∏–∫–∞

```bash
# –ü–µ—Ä–µ—Ö–≤–∞—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ (–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
sudo tcpdump -i any -w /tmp/vless_test.pcap 'tcp and port 443'

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
curl --socks5 user:pass@127.0.0.1:1080 https://ifconfig.me

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å tcpdump (Ctrl+C)

# –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–æ–≤
tshark -r /tmp/vless_test.pcap -Y "tls.handshake.type"

# –ü–æ–∏—Å–∫ –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ)
strings /tmp/vless_test.pcap | grep -i "password"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –õ–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ Xray (Reality + –ø—Ä–æ–∫—Å–∏)
sudo docker logs vless_xray --tail 100

# –õ–æ–≥–∏ stunnel (–µ—Å–ª–∏ –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏)
sudo docker logs vless_stunnel --tail 100

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ fail2ban (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
sudo journalctl -u fail2ban | grep "vless-proxy" | tail -20
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã:
- **–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** (–≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ/–ï–∂–µ–º–µ—Å—è—á–Ω–æ** (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- **–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã** (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo certbot certificates

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
sudo systemctl status certbot.timer

# –¢–µ—Å—Ç–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo certbot renew --dry-run
```

### 3. –†–æ—Ç–∞—Ü–∏—è –ü–∞—Ä–æ–ª–µ–π

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø—Ä–æ–∫—Å–∏:

```bash
# –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo vless-user reset-proxy-password <username>

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 32+ —Å–∏–º–≤–æ–ª–æ–≤)
sudo jq -r '.users[] | select(.username == "<username>") | .proxy_password | length' \
  /opt/vless/config/users.json
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo docker logs -f vless_xray

# –ü–æ–∏—Å–∫ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo docker logs vless_xray | grep -i "rejected"

# –°—Ç–∞—Ç—É—Å fail2ban
sudo fail2ban-client status vless-proxy
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Reality Destination

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–π—Ç–µ —Ü–µ–ª—å –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ Reality –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo vi /opt/vless/config/xray_config.json

# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª—è:
# - "dest": "google.com:443" ‚Üí "microsoft.com:443"
# - "serverNames": ["www.google.com"] ‚Üí ["www.microsoft.com"]

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Xray
cd /opt/vless && sudo docker compose restart xray
```

### 6. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo tar -czf vless_backup_$(date +%Y%m%d).tar.gz /opt/vless/config/

# –•—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏)
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–Ω–µ—à–Ω–µ–µ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–° –¥—Ä—É–≥–æ–π –º–∞—à–∏–Ω—ã (–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞):

```bash
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
nmap -sV -p 443,1080,8118 your-server-ip

# –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ SSL/TLS (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω testssl.sh)
testssl.sh --full your-server-ip:8118
```

### –°–∏–º—É–ª—è—Ü–∏—è DPI

–ü—Ä–æ–≤–µ—Ä–∫–∞, –≤—ã–≥–ª—è–¥–∏—Ç –ª–∏ —Ç—Ä–∞—Ñ–∏–∫ –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π HTTPS:

```bash
# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ TLS fingerprint
openssl s_client -connect your-server-ip:443 -showcerts | openssl x509 -noout -fingerprint
openssl s_client -connect google.com:443 -showcerts | openssl x509 -noout -fingerprint

# –¢—Ä–∞—Ñ–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç–ª–∏—á–∏–º –æ—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ google.com
```

---

## –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –£—Å–ø–µ—à–Ω–æ–µ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–∑–Ω–∞–∫–∏ –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã Reality protocol –ø—Ä–æ–π–¥–µ–Ω—ã
- ‚úÖ TLS 1.3 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ
- ‚úÖ –ù–µ—Ç plaintext –≤ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã
- ‚úÖ –ù–µ—Ç —Å–ª–∞–±—ã—Ö —à–∏—Ñ—Ä–æ–≤
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ–∫—Å–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–±–ª–µ–º:**
- ‚ùå Reality keys –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚ùå Plaintext –æ–±–Ω–∞—Ä—É–∂–µ–Ω –≤ —Ç—Ä–∞—Ñ–∏–∫–µ
- ‚ùå –°–ª–∞–±—ã–µ cipher suites (RC4, DES, 3DES)
- ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ TLS –≤–µ—Ä—Å–∏–∏ (SSLv3, TLS 1.0)
- ‚ùå –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏—Å—Ç–µ–∫–ª–∏
- ‚ùå –ù–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –ø—Ä–æ–∫—Å–∏

### –ö–∞–Ω–∞–ª –ë–µ–∑–æ–ø–∞—Å–µ–Ω, –ö–æ–≥–¥–∞:

1. **Reality Protocol**
   - X25519 –∫–ª—é—á–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
   - Destination –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç TLS 1.3
   - SNI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –¢—Ä–∞—Ñ–∏–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ HTTPS –∫ destination

2. **stunnel (–ü—É–±–ª–∏—á–Ω—ã–π –ü—Ä–æ–∫—Å–∏)**
   - TLS 1.3 –∞–∫—Ç–∏–≤–µ–Ω
   - –í–∞–ª–∏–¥–Ω—ã–µ Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
   - –ù–µ—Ç —Å–ª–∞–±—ã—Ö —à–∏—Ñ—Ä–æ–≤
   - Perfect Forward Secrecy —Ä–∞–±–æ—Ç–∞–µ—Ç

3. **–ü—Ä–æ–∫—Å–∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - –ü–∞—Ä–æ–ª–∏ 32+ —Å–∏–º–≤–æ–ª–æ–≤
   - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
   - UDP –æ—Ç–∫–ª—é—á—ë–Ω (–µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
   - –ü–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –±–∏–Ω–¥—è—Ç—Å—è (localhost –∏–ª–∏ —á–µ—Ä–µ–∑ stunnel)

4. **–ù–µ—Ç –£—Ç–µ—á–µ–∫**
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞—â–∏—â–µ–Ω—ã (600/700 –ø—Ä–∞–≤–∞)
   - –ù–µ—Ç sensitive –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–≥–∞—Ö
   - DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Xray

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** `/home/ikeniborn/Documents/Project/vless/docs/SECURITY_TESTING.md` (English)
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** `/opt/vless/docs/INSTALL.md`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:** `/opt/vless/docs/CLAUDE.md`

### –õ–æ–≥–∏

- **Xray:** `sudo docker logs vless_xray`
- **stunnel:** `sudo docker logs vless_stunnel`
- **Nginx:** `sudo docker logs vless_nginx`
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ:** `/opt/vless/logs/`

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ü–æ–º–æ—â–∏

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Ä–µ—à–∏—Ç—å:

1. –°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
   ```bash
   # –í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã
   lsb_release -a

   # –í–µ—Ä—Å–∏—è Docker
   docker --version

   # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   cd /opt/vless && docker compose ps

   # –õ–æ–≥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—à–∏–±–æ–∫
   sudo docker logs vless_xray --tail 50 > /tmp/xray_logs.txt
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `/opt/vless/docs/`
3. –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –¢–∏–ø–∏—á–Ω—ã—Ö –ü—Ä–æ–±–ª–µ–º"
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-10-07
**–ê–≤—Ç–æ—Ä:** Claude Code Agent
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT
